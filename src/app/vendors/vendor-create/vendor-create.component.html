<mat-card>
  <mat-spinner *ngIf="isLoading"></mat-spinner>
  <form [formGroup]="form" (submit)="onSaveVendor()" *ngIf="!isLoading">
    <mat-form-field>
      <input
        matInput
        type="text"
        formControlName="vendorName"
        minlength="3"
        placeholder="Vendor Name">
        <mat-error *ngIf="form.get('vendorName').invalid">Please enter a vendor name</mat-error>
    </mat-form-field>
    <mat-form-field>
        <input
          matInput
          type="text"
          formControlName="firstName"
          minlength="3"
          placeholder="First Name">
          <mat-error *ngIf="form.get('firstName').invalid">Please enter your first name</mat-error>
    </mat-form-field>
    <mat-form-field>
        <input
          matInput
          type="text"
          formControlName="lastName"
          minlength="3"
          placeholder="Last Name">
          <mat-error *ngIf="form.get('lastName').invalid">Please enter your last name</mat-error>
    </mat-form-field>
    <mat-form-field>
        <input
          matInput
          type="text"
          formControlName="commission"
          minlength="2"
          placeholder="Commission Amount">
          <span matSuffix>%&nbsp;</span>
          <mat-error *ngIf="form.get('commission').invalid">Please enter a commission amount</mat-error>
    </mat-form-field>
    <mat-form-field>
        <input
          matInput
          type="text"
          formControlName="email"
          minlength="3"
          placeholder="Email"
          required>
          <mat-error *ngIf="form.get('email').invalid">Please enter a valid email</mat-error>
      </mat-form-field>
    <mat-form-field>
        <input
          matInput
          type="text"
          formControlName="phoneNumber"
          minlength="3"
          placeholder="Phone Number">
          <mat-error *ngIf="form.get('phoneNumber').invalid">Please enter a phone number</mat-error>
      </mat-form-field>
    <mat-form-field>
        <input
          matInput
          type="text"
          formControlName="address"
          minlength="3"
          placeholder="Vendor Address">
          <mat-error *ngIf="form.get('address').invalid">Please enter your address</mat-error>
      </mat-form-field>
      <mat-form-field>
          <input matInput [matDatepicker]="picker" placeholder="Choose a date" formControlName="startDate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      <mat-form-field>
        <input
        matInput
        type="text"
        formControlName="rentAmount"
        placeholder="Rent amount">
        <span matPrefix>$&nbsp;</span>
        <span matSuffix>.00</span>
        <mat-error *ngIf="form.get('rentAmount').invalid">Please enter a rent amount</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input
        matInput
        type="text"
        formControlName="contractLength"
        placeholder="Contract length">
        <span matSuffix>months</span>
        <mat-error *ngIf="form.get('contractLength').invalid">Please enter a contract length</mat-error>
      </mat-form-field>




          <!-- <input
            matInput
            type="text"
            formControlName="startDate"
            minlength="3"
            placeholder="Enter Start Date">
            <mat-error *ngIf="form.get('startDate').invalid">Please enter your start date</mat-error>
        </mat-form-field> -->


    <div>
      <button mat-stroked-button type="button" (click)="filePicker.click()">Vendor Logo</button>
      <input type="file" #filePicker (change)="onImagePicked($event)">
      <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">


        <img [src]="imagePreview" [alt]="form.value.title">
      </div>
    </div>
    <button
      mat-raised-button
      color="accent"
      type="submit">Save Vendor</button>
  </form>
</mat-card>

